!function(a,b){"use strict";b.module("jmdobry.angular-i18n-properties",["ng"]),b.module("jmdobry.angular-i18n-properties").provider("I18nService",function(){var a={};a.lang=navigator.language||navigator.userLanguage,this.config=function(c){a=b.extend(a,c)},this.$get=["$log",function(c){function d(a){return a=a.toLowerCase(),a.length>=5&&(a=a.substr(0,2)+"_"+a.substr(3).toUpperCase()),a}function e(a){return"string"==typeof a?a.replace(/^\s*/,""):a}function f(a){var b,c,d,e=[],f="";for(b=parseInt(a.substr(2),16),b>=0&&b<Math.pow(2,16)&&e.push(b),d=e.length,c=0;d>c;++c)f+=String.fromCharCode(e[c]);return f}function g(a){if("string"==typeof a){var b,c,d=a.match(i);if(d)for(b=d.length,c=0;b>c;c++)a=a.replace(d[c],f(d[c]));for(c=0;-1!=(c=a.indexOf("\\",c));)"t"==a[c+1]?a=a.substring(0,c)+"	"+a.substring(c++ +2):"r"==a[c+1]?a=a.substring(0,c)+"\r"+a.substring(c++ +2):"n"==a[c+1]?a=a.substring(0,c)+"\n"+a.substring(c++ +2):"f"==a[c+1]?a=a.substring(0,c)+"\f"+a.substring(c++ +2):"\\"==a[c+1]?a=a.substring(0,c)+"\\"+a.substring(c++ +2):"{"==a[c+1]||"}"==a[c+1]||(a=a.substring(0,c)+a.substring(c+1)),c++}return a}var h={},i=/(\\u.{4})/gi,j=/[(\r\n)\n\r]+/,k=/\\[\s=:]+?/,l=/[=:]|\s+[=:]|\s+(?![=:])/;return{get:function(a,b){var c,d,e,f=h[a],g=h[a];if(b&&b.length){for(var i=0;i<b.length;i++)for(c=new RegExp("\\{"+i+"}");d=g.match(c);)if(e=g.indexOf(d.toString()),e>0){if("\\"===g[e-1]){var j=f.match(/\\\{[0-9]+}/).toString();throw new Error('Invalid unescaped "\\" at column '+(f.indexOf(j)+j.length-1)+' in property value: "'+f+'"')}g=g.substr(0,e)+b[i]+g.substr(e+d.toString().length)}if(d=g.match(/\\\{|\\}/),d&&"\\"===g[g.indexOf(d.toString())-1])throw new Error('Invalid unescaped "\\" in property value: "'+f+'"')}return g.replace("\\{","{").replace("\\}","}")},parse:function(a){var b,d,f,h,i,m,n,o,p={},q=a.split(j);for(d=0;d<q.length;d++){b=e(q[d]);var r="";if("#"!==b[0]&&"!"!==b[0]){if(f=b.match(k),h=b.match(l),f&&h)for(;f&&h&&b.indexOf(f.toString())<b.indexOf(h.toString());)r+=b.substr(0,b.indexOf(f.toString()))+f.toString()[1],b=b.substr(b.indexOf(f.toString())+f.toString().length),f=b.match(k),h=b.match(l);if(h)if(i=null,m=b.indexOf(h.toString()),n=r+b.substr(0,m),i=n.match(/\s*$/),i&&i.toString().length)c.error("Could not parse line number "+d+": Unescaped whitespace at column "+n.indexOf(i)+".");else{for(o=e(b.substr(m+h.toString().length));o.match(/\\$/)&&"\\"===o.match(/\\$/).toString();)o=o.substring(0,o.length-1),o+=e(q[++d].replace(/\s\s*$/,""));p[g(n).replace("\\{","{").replace("\\}","}")]=g(o)}}}return p},load:function(e,f){var g=new XMLHttpRequest,i=this;g.open("GET",e+(/\?/.test(e)?"&":"?")+(new Date).getTime(),!1),g.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),g.onreadystatechange=function(j){var k,l;4===g.readyState&&(k=g.status,k>399&&600>k?(l=new Error(e+" HTTP status: "+k),l.xhr=g,l.event=j,c.error(l)):(d(f&&f.lang||a.lang),h=h?b.extend(h,i.parse(g.responseText)):b.extend({},i.parse(g.responseText))))},g.send(null)}}}]}),b.module("jmdobry.angular-i18n-properties").filter("i18n",["$log","I18nService",function(a,b){return function(a,c){return b.get(a,c)}}])}(window,window.angular);