!function(a,b){"use strict";b.module("jmdobry.angular-i18n-properties",["ng"]),b.module("jmdobry.angular-i18n-properties").provider("I18nService",function(){var a={};a.lang=navigator.language||navigator.userLanguage,this.config=function(c){a=b.extend(a,c)},this.$get=["$log",function(c){function d(a){return a=a.toLowerCase(),a.length>=5&&(a=a.substr(0,2)+"_"+a.substr(3).toUpperCase()),a}function e(a){return"string"==typeof a?a.replace(/^\s*/,""):a}function f(a){var b,c,d,e=[],f="";for(b=parseInt(a.substr(2),16),b>=0&&b<Math.pow(2,16)&&e.push(b),d=e.length,c=0;d>c;++c)f+=String.fromCharCode(e[c]);return f}function g(a){if("string"==typeof a){var b,c,d=a.match(i);if(d)for(b=d.length,c=0;b>c;c++)a=a.replace(d[c],f(d[c]));for(c=0;-1!=(c=a.indexOf("\\",c));)a="t"==a[c+1]?a.substring(0,c)+"	"+a.substring(c++ +2):"r"==a[c+1]?a.substring(0,c)+"\r"+a.substring(c++ +2):"n"==a[c+1]?a.substring(0,c)+"\n"+a.substring(c++ +2):"f"==a[c+1]?a.substring(0,c)+"\f"+a.substring(c++ +2):"\\"==a[c+1]?a.substring(0,c)+"\\"+a.substring(c++ +2):a.substring(0,c)+a.substring(c+1)}return a}var h={},i=/(\\u.{4})/gi,j=/[(\r\n)\n\r]+/,k=/\\\s+?/,l=/[=:]|\s+[=:]|\s+(?![=:])/;return{get:function(b,c,d){return h[d||a.lang][b]},parse:function(a){var b,d,f,h,i,m,n,o,p={},q=a.split(j);for(d=0;d<q.length;d++){b=e(q[d]);var r="";if("#"!==b[0]&&"!"!==b[0]){if(f=b.match(k),h=b.match(l),f&&h)for(;f&&h&&b.indexOf(f.toString())<b.indexOf(h.toString());)r+=b.substr(0,b.indexOf(f.toString()))+f.toString()[1],b=b.substr(b.indexOf(f.toString())+f.toString().length),f=b.match(k),h=b.match(l);if(h)if(i=null,m=b.indexOf(h.toString()),n=r+b.substr(0,m),i=n.match(/\s*$/),i&&i.toString().length)c.error("Could not parse line number "+d+": Unescaped whitespace at column "+n.indexOf(i)+".");else{for(o=e(b.substr(m+h.toString().length));o.match(/\\$/)&&"\\"===o.match(/\\$/).toString();)o=o.substring(0,o.length-1),o+=e(q[++d].replace(/\s\s*$/,""));p[g(n)]=g(o)}}}return p},load:function(e,f){var g=new XMLHttpRequest,i=this;g.open("GET",e+(/\?/.test(e)?"&":"?")+(new Date).getTime(),!0),g.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),g.onreadystatechange=function(j){var k,l;if(4===g.readyState)if(k=g.status,k>399&&600>k)l=new Error(e+" HTTP status: "+k),l.xhr=g,l.event=j,c.error(l);else{var m=d(f&&f.lang||a.lang);h[m]=h[m]?b.extend(h[m],i.parse(g.responseText)):b.extend({},i.parse(g.responseText))}},g.send(null)}}}]}),b.module("jmdobry.angular-i18n-properties").filter("i18n",["$log","I18nService",function(a,b){return function(a,c){return b.get(a,c)}}])}(window,window.angular);